<html>
  <head>
    <title>class-dump</title>
  </head>
  <body>
    <h1>Description</h1>

    <p>class-dump is a utility for examining the Objective-C segment of
    Mach-O files.  It generates the @interface and @protocol declarations
    for classes, categories and protocols.</p>

    <p>Version 2 is a re-implementation of Eric P. Scott's class-dump, and
    works with the frameworks in Openstep 4.x.</p>

    <h1>Availability/Download</h1>

    <p>The class-dump version 2.1.6 package includes source that should
    compile on Mac OS X.  This package includes the binary
    compiled for Mac OS X:</p>

    <ul>
      <li>class-dump-2.1.6-bs.tar.gz        (Mac OS X)</li>
    </ul>

    <p>Most of the changes since version 2.1.2 have been fixes for Mac OS X,
    so I haven't updated the Mac OS X Server, Openstep and Nextstep
    packages:</p>

    <ul>
      <li>class-dump-2.1.2-PI-bs.tar.gz     (Mac OS X Server)</li>
      <li>class-dump.2.1.2.m.NIS.bs.tar.gz  (Openstep)</li>
      <li>class-dump.2.1.2.NIHS.bs.tar.gz   (Nextstep)</li>
    </ul>

    <p>I intend to remove support for these older operating systems in a future release.</p>

    <p>These are all available from my website at:</p>

    <p>http://homepage.mac.com/nygard/Projects/index.html</p>

    <h1>Release Notes</h1>
      <h2>Version 2.1.6 - Released xxx</h2>
        <ul>
          <li>Anjo Krank added an option, -I, to sort the classes by dependancy.</li>
          <li>Kurt Revis made some changes to support filenames that contain some non-ASCII characters.</li>
          <li>Jonathan Rentzsch added an option, -H, to generate separate header files for each class and protocol.</li>
          <li>Stephane Corthesy made some changes:
            <ul>
              <li>all error messages are prefixed by // to have a C comment line instead</li>
              <li>"struct ?" no longer appears</li>
              <li>protocols no longer display an IMP address</li>
              <li>compiles with gcc 3.3 on Panther</li>
            </ul>
          </li>
        </ul>

      <h2>Version 2.1.5 - Released 2001-03-27</h2>
        <ul>
          <li>Compiled on Mac OS X.  The release notes say "Do Not Use Pre-GM Compilers to Build Software for Mac OS X", so I've recompiled this.</li>
          <li>No changes other than the version number and README.</li>
        </ul>

      <h2>Version 2.1.4 - Released 2000-10-15</h2>
        <ul>
          <li>Carl Lindberg made some changes that make class-dump work better on Mac OS X Public Beta:</li>
            <ul>
              <li>It's a little better about backward compatibility with old frameworks that still work on Public Beta.</li>
              <li>It fixes most of the syntax errors we were getting when parsing types.  (We were having trouble with union types.)</li>
            </ul>
          <li>It now understands framework install names and the framework search path, so you should be able to run it on apps or frameworks where the install name of the frameworks is not where the framework exists in the filesystem.  The Omni frameworks, for example, change the install name.</li>
          <li>It will search for an app executable in the Contents/MacOS directory of the app wrapper that Mac OS X uses if you just use the path to the main app wrapper.</li>
          <li>You can set the ClassDumpDebugFrameworkPaths environment variable to see the steps it's going through to find the frameworks.  It spits out a lot of stuff, but it may be useful for someone.  With zsh, you can do this:
            <ul>
              <li>ClassDumpDebugFrameworkPaths=YES class-dump /System/Applications/MailViewer.app</li>
            </ul>
          </li>
        </ul>

      <h2>Version 2.1.3 - Released 2000-06-23</h2>
        <ul>
          <li>James McIlree made these changes to get class-dump running on Mac OS X DP4:</li>
            <ul>
              <li>The OS X mach-o files keep some information in the __TEXT __cstring section. I've made a small set of tweeks to cause class-dump to look in the correct segment and section.</li>
              <li>The build on OS X defines NS_TARGET_MAJOR as 5, this needs to be set in order to get the new code.</li>
            </ul>
          </li>
        </ul>

      <h2>Version 2.1.2 - Released 1998-07-28</h2>
        <ul>
          <li>Tom Hageman has provided the changes to make it work with object files and bundles.  In the previous version, the output was empty.</li>
          <li>It shouldn't crash if there are fewer types than it expects while formatting a method.  This is most likely triggered by incompatible current versions of frameworks.</li>
        </ul>

      <h2>Version 2.1.1 - Released xxx</h2>
        <ul>
          <li>Compiles under Rhapsody, Openstep and Foundation based Nextstep 3.3.  Tom Hageman provided the changes to get it working with Nextstep 3.3 and compiled it quad-fat.</li>
          <li>Under Rhapsody, the -C option now takes egrep style regular expressions to match categories and protocols.  It will still work as before with text strings, but you can, for example, specify -C 'View|Window' to match classes with both strings.</li>
        </ul>

      <h2>Version 2.1.0 - Released 1997-10-09</h2>
        <ul>
          <li>The -a option has been split into -a, which just shows instance variable offsets, and -A, which shows method addresses. (Suggested by Charles Lloyd.)</li>
          <li>Protocol definitions are all printed at the beginning of the output for each file.  Duplicate protocol definitions are no longer shown.</li>
          <li>New option, -S, to sort the output.  Protocols are sorted by name.  Classes and categories are sorted by name.  Class and instance methods are each sorted by name.  (Suggested by Charles Lloyd.)</li>
          <li>When the -S option is not used, the method definitions are printed out reversed from the order they are found in the Mach-O file.  This should reflect the order they are declared in the original source file.</li>
          <li>The effect of the -C option has changed.  It now matches category and protocol names instead of just class names. (Carl Lindberg pointed out that categories should also be matched.)</li>
          <li>Corrected output when the target file doesn't have an Objective-C segment.</li>
          <li>An 'id *' type  should now be printed correctly.</li>
          <li>Fixed printing of pointers to arrays.</li>
          <li>Fixed printing of multi-dimensional arrays.</li>
          <li>Made #ifdefs of LC_PREBOUND_DYLIB and LC_LOAD_DYLIB independant for compiling under 3.3 (Suggested by Carl Lindberg.)</li>
          <li>This now uses the Foundation framework, so it may not work with Nextstep 3.x.</li>
          <li>flex is no longer required.</li>
          <li>The version number of class-dump is now included in the output.</li>
        </ul>

      <h2>Version 2.0 - Released 1997-01-27</h2>
        <ul>
          <li>class-dump works with framework based files (the whole point of this exercise!)</li>
          <li>The class declaration shows the adopted protocols.</li>
          <li>Protocol definitions are shown before (rather than after) the class declaration.</li>
          <li>New option, -r, to recursively expand frameworks and fixed VM shared libraries.</li>
          <li>A comment is generated to show the file where the classes are defined.  This is helpful when using the -r option.</li>
          <li>New option, -s, to use "char *" instead of "STR".</li>
        </ul>

  </body>
</html>
